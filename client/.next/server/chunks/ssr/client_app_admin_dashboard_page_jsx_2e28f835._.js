module.exports=[13385,a=>{"use strict";var b=a.i(16547),c=a.i(9651),d=a.i(54949),e=a.i(86028),f=a.i(11229);function g({value:a,onChange:d}){let[e,f]=(0,c.useState)(a||[]);(0,c.useRef)(null);let[g,h]=(0,c.useState)(null),i=a=>{f(a),d(a)},j=a=>{let b=[...e,{id:Date.now().toString(),type:a,content:"image-grid"===a?["",""]:""}];i(b),h(b.length-1)},k=(a,b)=>{let c=[...e];c[a]={...c[a],...b},i(c)},l=(a,b)=>{if("up"===b&&0===a||"down"===b&&a===e.length-1)return;let c=[...e],d="up"===b?a-1:a+1;[c[a],c[d]]=[c[d],c[a]],i(c),h(d)},m=(a,b=null)=>{let c=document.createElement("input");c.type="file",c.accept="image/*",c.onchange=c=>{let d=c.target.files[0];if(d){let c=new FileReader;c.onloadend=()=>{if(null!==b){let d=[...e],f=[...d[a].content];f[b]=c.result,d[a].content=f,i(d)}else k(a,{content:c.result})},c.readAsDataURL(d)}},c.click()};return(0,b.jsxs)("div",{className:"rich-text-editor",children:[(0,b.jsxs)("div",{className:"editor-toolbar",children:[(0,b.jsxs)("button",{type:"button",className:"editor-toolbar-btn",onClick:()=>j("paragraph"),title:"Add paragraph",children:[(0,b.jsx)("span",{children:"Â¶"})," Paragraph"]}),(0,b.jsxs)("button",{type:"button",className:"editor-toolbar-btn",onClick:()=>j("heading"),title:"Add heading",children:[(0,b.jsx)("span",{children:"H"})," Heading"]}),(0,b.jsxs)("button",{type:"button",className:"editor-toolbar-btn",onClick:()=>j("quote"),title:"Add quote",children:[(0,b.jsx)("span",{children:'"'})," Quote"]}),(0,b.jsxs)("button",{type:"button",className:"editor-toolbar-btn",onClick:()=>j("image"),title:"Add image",children:[(0,b.jsx)("span",{children:"ðŸ–¼"})," Image"]}),(0,b.jsxs)("button",{type:"button",className:"editor-toolbar-btn",onClick:()=>j("image-grid"),title:"Add image grid",children:[(0,b.jsx)("span",{children:"âŠž"})," Image Grid"]})]}),(0,b.jsx)("div",{className:"editor-content",children:0===e.length?(0,b.jsx)("div",{className:"editor-empty",children:(0,b.jsx)("p",{children:"Click a button above to start adding content blocks"})}):e.map((a,c)=>{let d;return d=g===c,(0,b.jsxs)("div",{className:`editor-block ${d?"active":""}`,onClick:()=>h(c),children:[(0,b.jsxs)("div",{className:"block-controls",children:[(0,b.jsx)("button",{type:"button",className:"block-control-btn",onClick:a=>{a.stopPropagation(),l(c,"up")},disabled:0===c,title:"Move up",children:"â†‘"}),(0,b.jsx)("button",{type:"button",className:"block-control-btn",onClick:a=>{a.stopPropagation(),l(c,"down")},disabled:c===e.length-1,title:"Move down",children:"â†“"}),(0,b.jsx)("button",{type:"button",className:"block-control-btn block-control-delete",onClick:a=>{a.stopPropagation(),i(e.filter((a,b)=>b!==c)),h(null)},title:"Delete block",children:"Ã—"}),(0,b.jsx)("span",{className:"block-type-label",children:a.type})]}),(0,b.jsxs)("div",{className:"block-content",children:["paragraph"===a.type&&(0,b.jsx)("textarea",{className:"editor-textarea",value:a.content,onChange:a=>k(c,{content:a.target.value}),placeholder:"Write your paragraph here...",rows:"4"}),"heading"===a.type&&(0,b.jsx)("input",{type:"text",className:"editor-heading",value:a.content,onChange:a=>k(c,{content:a.target.value}),placeholder:"Enter heading text..."}),"quote"===a.type&&(0,b.jsx)("textarea",{className:"editor-quote",value:a.content,onChange:a=>k(c,{content:a.target.value}),placeholder:"Enter quote text...",rows:"3"}),"image"===a.type&&(0,b.jsxs)("div",{className:"editor-image-block",children:[a.content?(0,b.jsxs)("div",{className:"editor-image-preview",children:[(0,b.jsx)("img",{src:a.content,alt:"Content"}),(0,b.jsx)("button",{type:"button",className:"btn-change-image",onClick:()=>m(c),children:"Change Image"})]}):(0,b.jsx)("button",{type:"button",className:"btn-upload-image",onClick:()=>m(c),children:"+ Upload Image"}),(0,b.jsx)("input",{type:"text",className:"editor-image-caption",value:a.caption||"",onChange:a=>k(c,{caption:a.target.value}),placeholder:"Image caption (optional)..."})]}),"image-grid"===a.type&&(0,b.jsx)("div",{className:"editor-image-grid",children:a.content.map((a,d)=>(0,b.jsx)("div",{className:"editor-grid-item",children:a?(0,b.jsxs)("div",{className:"editor-grid-preview",children:[(0,b.jsx)("img",{src:a,alt:`Grid ${d+1}`}),(0,b.jsx)("button",{type:"button",className:"btn-change-grid-image",onClick:()=>m(c,d),children:"Change"})]}):(0,b.jsx)("button",{type:"button",className:"btn-upload-grid-image",onClick:()=>m(c,d),children:"+ Upload"})},d))})]})]},a.id)})})]})}function h(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)("projects"),[h,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1);(0,c.useEffect)(()=>{localStorage.getItem("edra_admin")||a.push("/admin/login")},[a]);let q=a=>{if(o&&h){if(!window.confirm("You have unsaved changes. Are you sure you want to leave?"))return;p(!1)}g(a),l(!1),n(null)};return(0,b.jsxs)("div",{className:"dashboard",children:[(0,b.jsxs)("aside",{className:"dashboard-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[(0,b.jsx)(e.default,{src:"/edra-logo.png",alt:"EDRA",className:"sidebar-logo",width:80,height:80}),(0,b.jsx)("h2",{children:"CMS Dashboard"})]}),(0,b.jsxs)("nav",{className:"sidebar-nav",children:[(0,b.jsxs)("button",{className:`sidebar-nav-item ${"projects"===f?"active":""}`,onClick:()=>q("projects"),children:[(0,b.jsx)("span",{children:"ðŸ“"})," Projects"]}),(0,b.jsxs)("button",{className:`sidebar-nav-item ${"blogs"===f?"active":""}`,onClick:()=>q("blogs"),children:[(0,b.jsx)("span",{children:"ðŸ“"})," Blog Articles"]}),(0,b.jsxs)("button",{className:`sidebar-nav-item ${"settings"===f?"active":""}`,onClick:()=>q("settings"),children:[(0,b.jsx)("span",{children:"âš™ï¸"})," Settings"]})]}),(0,b.jsxs)("button",{className:"sidebar-logout",onClick:()=>{localStorage.removeItem("edra_admin"),a.push("/admin/login")},children:[(0,b.jsx)("span",{children:"ðŸšª"})," Logout"]})]}),(0,b.jsxs)("main",{className:"dashboard-main",children:[(0,b.jsxs)("div",{className:"dashboard-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"dashboard-title",children:["projects"===f&&"Manage Projects","blogs"===f&&"Manage Blog Articles","settings"===f&&"Settings"]}),(0,b.jsxs)("p",{className:"dashboard-subtitle",children:["projects"===f&&"Add, edit, or remove portfolio projects","blogs"===f&&"Create and manage blog articles","settings"===f&&"Configure dashboard settings"]})]}),("projects"===f||"blogs"===f)&&(0,b.jsx)("button",{className:"btn-add-new",onClick:()=>l(!0),children:"+ Add New"})]}),(0,b.jsxs)("div",{className:"dashboard-content",children:["projects"===f&&(0,b.jsx)(i,{showForm:h,setShowForm:l,editingItem:m,setEditingItem:n,setHasUnsavedChanges:p}),"blogs"===f&&(0,b.jsx)(j,{showForm:h,setShowForm:l,editingItem:m,setEditingItem:n,setHasUnsavedChanges:p}),"settings"===f&&(0,b.jsx)(k,{})]})]})]})}function i({showForm:a,setShowForm:d,editingItem:e,setEditingItem:g,setHasUnsavedChanges:h}){let{data:i,refetch:j}=(0,f.useApi)("/api/portfolio"),[k,l]=(0,c.useState)({title:"",location:"",category:"",year:"",image:"",description:"",gallery:[]});(0,c.useEffect)(()=>{e&&(l({...e,gallery:e.gallery||[]}),d(!0))},[e,d]);let m=(a,b)=>{l({...k,[a]:b}),h(!0)},n=async a=>{a.preventDefault();try{e?await (0,f.apiPut)("/api/portfolio",e.id,k):await (0,f.apiPost)("/api/portfolio",k),l({title:"",location:"",category:"",year:"",image:"",description:"",gallery:[]}),d(!1),g(null),h(!1),j()}catch(a){alert("Error saving project: "+a.message)}},o=async a=>{if(window.confirm("Delete this project?"))try{await (0,f.apiDelete)("/api/portfolio",a),j()}catch(a){alert("Error deleting project")}};return a?(0,b.jsxs)("div",{className:"form-panel",children:[(0,b.jsx)("h3",{children:e?"Edit Project":"Add New Project"}),(0,b.jsxs)("form",{onSubmit:n,className:"dashboard-form",children:[(0,b.jsxs)("div",{className:"form-grid",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Project Title *"}),(0,b.jsx)("input",{type:"text",value:k.title,onChange:a=>m("title",a.target.value),placeholder:"e.g., Modern Villa",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Location *"}),(0,b.jsx)("input",{type:"text",value:k.location,onChange:a=>m("location",a.target.value),placeholder:"e.g., Jakarta, Indonesia",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Category *"}),(0,b.jsxs)("select",{value:k.category,onChange:a=>m("category",a.target.value),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select category"}),(0,b.jsx)("option",{value:"High Rise",children:"High Rise"}),(0,b.jsx)("option",{value:"Mall",children:"Mall"}),(0,b.jsx)("option",{value:"Residence",children:"Residence"}),(0,b.jsx)("option",{value:"Private House",children:"Private House"}),(0,b.jsx)("option",{value:"Office",children:"Office"}),(0,b.jsx)("option",{value:"Public Facility",children:"Public Facility"}),(0,b.jsx)("option",{value:"Interior",children:"Interior"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Year *"}),(0,b.jsx)("input",{type:"text",value:k.year,onChange:a=>m("year",a.target.value),placeholder:"e.g., 2024",required:!0})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Image *"}),(0,b.jsxs)("div",{className:"image-upload-group",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files[0];if(b){let a=new FileReader;a.onloadend=()=>{l({...k,image:a.result}),h(!0)},a.readAsDataURL(b)}},className:"file-input"}),(0,b.jsx)("span",{className:"upload-separator",children:"OR"}),(0,b.jsx)("input",{type:"url",value:k.image,onChange:a=>m("image",a.target.value),placeholder:"Enter image URL (https://...)",className:"url-input"})]}),k.image&&(0,b.jsx)("div",{className:"image-preview",children:(0,b.jsx)("img",{src:k.image,alt:"Preview"})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Description"}),(0,b.jsx)("textarea",{value:k.description,onChange:a=>m("description",a.target.value),placeholder:"Project description...",rows:"4"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Project Gallery"}),(0,b.jsx)("p",{className:"field-hint",children:"Upload multiple images for the project gallery"}),(0,b.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:a=>{let b=Array.from(a.target.files);0===b.length||Promise.all(b.map(a=>new Promise(b=>{let c=new FileReader;c.onloadend=()=>b(c.result),c.readAsDataURL(a)}))).then(a=>{l({...k,gallery:[...k.gallery,...a]}),h(!0)})},className:"file-input"}),k.gallery&&k.gallery.length>0&&(0,b.jsx)("div",{className:"gallery-preview",children:k.gallery.map((a,c)=>(0,b.jsxs)("div",{className:"gallery-thumbnail",children:[(0,b.jsx)("img",{src:a,alt:`Gallery ${c+1}`}),(0,b.jsx)("button",{type:"button",className:"btn-remove-gallery",onClick:()=>{let a;return a=k.gallery.filter((a,b)=>b!==c),void(l({...k,gallery:a}),h(!0))},title:"Remove image",children:"Ã—"})]},c))})]}),(0,b.jsxs)("div",{className:"form-actions",children:[(0,b.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{d(!1),g(null),l({title:"",location:"",category:"",year:"",image:"",description:"",gallery:[]}),h(!1)},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn-primary",children:e?"Update Project":"Add Project"})]})]})]}):(0,b.jsx)("div",{className:"items-list",children:i?.length===0?(0,b.jsx)("div",{className:"empty-state",children:(0,b.jsx)("p",{children:'No projects yet. Click "Add New" to create your first project.'})}):(0,b.jsx)("div",{className:"items-grid",children:i?.map(a=>(0,b.jsxs)("div",{className:"item-card",children:[(0,b.jsx)("img",{src:a.image,alt:a.title,className:"item-image"}),(0,b.jsxs)("div",{className:"item-content",children:[(0,b.jsx)("h4",{children:a.title}),(0,b.jsxs)("p",{className:"item-meta",children:[a.location," â€¢ ",a.year]}),(0,b.jsx)("span",{className:"item-badge",children:a.category})]}),(0,b.jsxs)("div",{className:"item-actions",children:[(0,b.jsx)("button",{className:"btn-edit",onClick:()=>g(a),children:"Edit"}),(0,b.jsx)("button",{className:"btn-delete",onClick:()=>o(a.id),children:"Delete"})]})]},a.id))})})}function j({showForm:a,setShowForm:d,editingItem:e,setEditingItem:h,setHasUnsavedChanges:i}){let{data:j,refetch:k}=(0,f.useApi)("/api/blogs"),[l,m]=(0,c.useState)({title:"",subtitle:"",date:"",tag:"",image:"",excerpt:"",author:"",client:"",content:[]});(0,c.useEffect)(()=>{e&&(m(e),d(!0))},[e,d]);let n=(a,b)=>{m({...l,[a]:b}),i(!0)},o=async a=>{a.preventDefault();try{e?await (0,f.apiPut)("/api/blogs",e.id,l):await (0,f.apiPost)("/api/blogs",l),m({title:"",subtitle:"",date:"",tag:"",image:"",excerpt:"",author:"",client:"",content:[]}),d(!1),h(null),i(!1),k()}catch(a){alert("Error saving article: "+a.message)}},p=async a=>{if(window.confirm("Delete this article?"))try{await (0,f.apiDelete)("/api/blogs",a),k()}catch(a){alert("Error deleting article")}};return a?(0,b.jsxs)("div",{className:"form-panel article-editor-panel",children:[(0,b.jsx)("h3",{children:e?"Edit Article":"Write New Article"}),(0,b.jsxs)("form",{onSubmit:o,className:"dashboard-form article-editor-form",children:[(0,b.jsxs)("div",{className:"editor-section",children:[(0,b.jsx)("h4",{className:"editor-section-title",children:"Basic Information"}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Article Title *"}),(0,b.jsx)("input",{type:"text",value:l.title,onChange:a=>n("title",a.target.value),placeholder:"e.g., Designing light for a desert hillside residence",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Subtitle/Hero Description"}),(0,b.jsx)("textarea",{value:l.subtitle||"",onChange:a=>n("subtitle",a.target.value),placeholder:"A brief description shown in the hero section...",rows:"2"})]}),(0,b.jsxs)("div",{className:"form-grid",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Published Date *"}),(0,b.jsx)("input",{type:"text",value:l.date,onChange:a=>n("date",a.target.value),placeholder:"e.g., Feb 2026",required:!0})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Category *"}),(0,b.jsxs)("select",{value:l.tag,onChange:a=>n("tag",a.target.value),required:!0,children:[(0,b.jsx)("option",{value:"",children:"Select category"}),(0,b.jsx)("option",{value:"Architecture",children:"Architecture"}),(0,b.jsx)("option",{value:"Interior",children:"Interior"}),(0,b.jsx)("option",{value:"Construction",children:"Construction"}),(0,b.jsx)("option",{value:"Design",children:"Design"}),(0,b.jsx)("option",{value:"Studio",children:"Studio"}),(0,b.jsx)("option",{value:"Projects",children:"Projects"}),(0,b.jsx)("option",{value:"Awards",children:"Awards"}),(0,b.jsx)("option",{value:"Press",children:"Press"})]})]})]}),(0,b.jsxs)("div",{className:"form-grid",children:[(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Author Name"}),(0,b.jsx)("input",{type:"text",value:l.author||"",onChange:a=>n("author",a.target.value),placeholder:"e.g., Arden Zwerlin"})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Client Name(s)"}),(0,b.jsx)("input",{type:"text",value:l.client||"",onChange:a=>n("client",a.target.value),placeholder:"e.g., Joshua Jacobs, Lillian Steele"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Featured Image *"}),(0,b.jsxs)("div",{className:"image-upload-group",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files[0];if(b){let a=new FileReader;a.onloadend=()=>{m({...l,image:a.result}),i(!0)},a.readAsDataURL(b)}},className:"file-input"}),(0,b.jsx)("span",{className:"upload-separator",children:"OR"}),(0,b.jsx)("input",{type:"url",value:l.image,onChange:a=>n("image",a.target.value),placeholder:"Enter image URL (https://...)",className:"url-input"})]}),l.image&&(0,b.jsx)("div",{className:"image-preview",children:(0,b.jsx)("img",{src:l.image,alt:"Preview"})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"Article Excerpt *"}),(0,b.jsx)("textarea",{value:l.excerpt,onChange:a=>n("excerpt",a.target.value),placeholder:"Brief description shown in article listings...",rows:"3",required:!0})]})]}),(0,b.jsxs)("div",{className:"editor-section",children:[(0,b.jsx)("h4",{className:"editor-section-title",children:"Article Content"}),(0,b.jsx)("p",{className:"editor-section-subtitle",children:"Build your article using content blocks. Add paragraphs, headings, quotes, and images."}),(0,b.jsx)(g,{value:l.content||[],onChange:a=>n("content",a)})]}),(0,b.jsxs)("div",{className:"form-actions article-editor-actions",children:[(0,b.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>{d(!1),h(null),m({title:"",subtitle:"",date:"",tag:"",image:"",excerpt:"",author:"",client:"",content:[]}),i(!1)},children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"btn-primary",children:e?"Update Article":"Publish Article"})]})]})]}):(0,b.jsx)("div",{className:"items-list",children:j?.length===0?(0,b.jsx)("div",{className:"empty-state",children:(0,b.jsx)("p",{children:'No articles yet. Click "Add New" to write your first article.'})}):(0,b.jsx)("div",{className:"items-grid",children:j?.map(a=>(0,b.jsxs)("div",{className:"item-card",children:[(0,b.jsx)("img",{src:a.image,alt:a.title,className:"item-image"}),(0,b.jsxs)("div",{className:"item-content",children:[(0,b.jsx)("h4",{children:a.title}),(0,b.jsx)("p",{className:"item-meta",children:a.date}),(0,b.jsx)("span",{className:"item-badge",children:a.tag}),(0,b.jsx)("p",{className:"item-excerpt",children:a.excerpt})]}),(0,b.jsxs)("div",{className:"item-actions",children:[(0,b.jsx)("button",{className:"btn-edit",onClick:()=>h(a),children:"Edit"}),(0,b.jsx)("button",{className:"btn-delete",onClick:()=>p(a.id),children:"Delete"})]})]},a.id))})})}function k(){return(0,b.jsxs)("div",{className:"settings-panel",children:[(0,b.jsxs)("div",{className:"settings-section",children:[(0,b.jsx)("h3",{children:"Account Information"}),(0,b.jsxs)("p",{children:["Username: ",(0,b.jsx)("strong",{children:"admin"})]}),(0,b.jsxs)("p",{children:["Role: ",(0,b.jsx)("strong",{children:"Administrator"})]})]}),(0,b.jsxs)("div",{className:"settings-section",children:[(0,b.jsx)("h3",{children:"Default Credentials"}),(0,b.jsxs)("p",{children:["Username: ",(0,b.jsx)("code",{children:"admin"})]}),(0,b.jsxs)("p",{children:["Password: ",(0,b.jsx)("code",{children:"edra2024"})]}),(0,b.jsx)("p",{className:"settings-note",children:"âš ï¸ Change these credentials in production"})]}),(0,b.jsxs)("div",{className:"settings-section",children:[(0,b.jsx)("h3",{children:"System Info"}),(0,b.jsx)("p",{children:"Version: 1.0.0"}),(0,b.jsx)("p",{children:"Last Updated: Feb 2026"})]})]})}a.s(["default",()=>h],13385)}];

//# sourceMappingURL=client_app_admin_dashboard_page_jsx_2e28f835._.js.map